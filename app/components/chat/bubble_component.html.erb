<% if @message.role == "system" || @message.role == "tool" %>
  <div class="flex justify-center my-2">
    <div class="<%= bubble_class %>">
      <i data-lucide="<%= @message.role == 'tool' ? 'terminal' : 'info' %>" class="w-3 h-3"></i>
      <%= @message.content %>
    </div>
  </div>
<% else %>
  <div class="chat <%= alignment_class %>">
    <div class="chat-image avatar placeholder">
      <div class="<%= @message.role == 'user' ? 'bg-neutral text-neutral-content' : 'bg-primary text-primary-content' %> rounded-full w-8 flex items-center justify-center">
        <span class="text-xs"><%= avatar_text %></span>
      </div>
    </div>
    <div class="chat-header opacity-50 text-xs mb-1 mx-2">
      <%= @message.role == "assistant" ? "Junie" : "User" %>
      <time class="opacity-50"><%= @message.created_at.strftime("%H:%M") %></time>
    </div>
    <div class="chat-bubble shadow-md <%= bubble_class %> mt-1">
      <%= @message.content %>
    </div>
  </div>
<% end %>
