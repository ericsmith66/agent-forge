<turbo-frame id="artifact_viewer">
  <div class="flex flex-col h-full bg-base-100">
    <!-- Viewer Header -->
    <div class="p-4 border-b border-base-300 flex justify-between items-center bg-base-200/30 shrink-0">
      <div class="flex items-center gap-3">
        <h2 class="text-lg font-bold truncate max-w-md"><%= @artifact.title %></h2>
        <%= render Artifacts::StatusBadgeComponent.new(status: @artifact.status) %>
      </div>
      <div class="flex items-center gap-1">
        <%= link_to edit_project_artifact_path(@artifact.project, @artifact), 
                    class: "btn btn-ghost btn-sm btn-square",
                    title: "Edit",
                    data: { turbo_frame: "artifact_viewer" } do %>
          <i data-lucide="edit-3" class="w-4 h-4"></i>
        <% end %>
        <button class="btn btn-ghost btn-sm btn-square">
          <i data-lucide="share" class="w-4 h-4"></i>
        </button>
      </div>
    </div>

    <!-- Viewer Content -->
    <div class="flex-1 overflow-y-auto p-8 bg-white">
      <article class="prose prose-sm max-w-none">
        <h1 class="mb-0"><%= @artifact.title %></h1>
        <p class="text-base-content/60 mt-0">Updated: <%= @artifact.updated_at.strftime("%Y-%m-%d %H:%M") %></p>
        
        <div class="mt-8">
          <%= render_markdown(@artifact.content) %>
        </div>
        
        <% if @artifact.content.blank? %>
          <div class="bg-base-200 p-8 rounded-lg border border-base-300 my-8 text-center text-base-content/50 italic">
            <i data-lucide="file-text" class="w-12 h-12 mb-4 opacity-20 mx-auto"></i>
            <p>This artifact has no content yet.</p>
            <p class="text-xs mt-1">Click the edit icon to start drafting.</p>
          </div>
        <% end %>
      </article>
    </div>
  </div>
</turbo-frame>
