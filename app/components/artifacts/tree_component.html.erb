  <div class="flex flex-col h-full bg-base-200" data-controller="tree-navigation">
    <div class="p-3 h-12 border-b border-base-300 flex items-center justify-between shrink-0">
      <h2 class="text-[10px] font-bold uppercase tracking-widest text-base-content/60 px-1">Artifacts</h2>
      <button class="btn btn-ghost btn-xs btn-square hover:bg-base-300" aria-label="New artifact" title="New Artifact">
        <i data-lucide="plus" class="w-4 h-4"></i>
      </button>
    </div>
    <div class="flex-1 overflow-y-auto p-2" id="artifact_tree_container">
      <% if @project.artifacts.none? %>
        <div class="p-4 text-center text-xs text-base-content/40 italic">
          No artifacts yet.
        </div>
      <% else %>
        <nav aria-label="Artifact Hierarchy" class="px-2">
          <% artifact_groups.each do |group_name, artifacts| %>
            <% if artifacts.any? %>
              <details open class="group mb-4">
                <summary class="flex items-center p-2 text-xs font-bold uppercase text-base-content/60 cursor-pointer hover:text-base-content transition-colors list-none">
                  <i data-lucide="chevron-right" class="w-3 h-3 mr-1 transition-transform group-open:rotate-90"></i>
                  <span class="normal-case"><%= group_name %></span> (<%= artifacts.count %>)
                </summary>
                <ul role="group" class="mt-1 space-y-1">
                  <% artifacts.each do |artifact| %>
                    <%= render(Artifacts::TreeItemComponent.new(artifact: artifact, selected: artifact == @current_artifact)) %>
                  <% end %>
                </ul>
              </details>
            <% end %>
          <% end %>
        </nav>
      <% end %>
    </div>
  </div>
<%# The turbo_frame_tag was removed because it was redundant here and causing structural issues with view annotations %>
